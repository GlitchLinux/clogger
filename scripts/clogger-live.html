<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>CLogger Live</title>
  <link rel="icon" href="https://glitchlinux.wtf/glitch.ico" type="image/x-icon">
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      background: #000;
      color: #00ff00;
      font-family: monospace;
      font-size: 16px;
      line-height: 1.1;
      white-space: pre-wrap;
      overflow: hidden; /* hides body scroll */
    }
    #log {
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      padding: 10px;
      overflow-y: scroll;          /* allow scrolling */
      scrollbar-width: none;       /* hide scrollbar (Firefox) */
      -ms-overflow-style: none;    /* hide scrollbar (IE/Edge) */
    }
    #log::-webkit-scrollbar {      /* hide scrollbar (Chrome/Safari) */
      display: none;
    }
  </style>
</head>
<body>
  <div id="log">Loading log...</div>

  <script>
    const logURL = "https://glitchserver.com/clogger.log";
    const logElement = document.getElementById("log");
    const maxLines = 1000; // only display the latest 1000 lines

    async function updateLog() {
      try {
        const response = await fetch(logURL + "?t=" + Date.now());
        if (!response.ok) throw new Error("HTTP " + response.status);
        const text = await response.text();
        const lines = text.trim().split("\n");
        const recent = lines.slice(0, maxLines).join("\n"); // reversed log, keep top 1000
        logElement.textContent = recent;
      } catch (err) {
        logElement.textContent = "Error fetching log: " + err.message;
      }
    }

    updateLog();                  // load immediately
    setInterval(updateLog, 300); // refresh every 1 second
  </script>
</body>
</html>
